(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,a){e.exports=a(76)},45:function(e,t,a){},47:function(e,t,a){},71:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n,i,c,s,l,o,r,m=a(1),h=a.n(m),u=a(31),g=a.n(u),d=(a(45),a(11)),p=a(12),x=a(14),b=a(13),f=a(15),v=a(2),k=a(6),M=a(5),y=a(32),j=a.n(y),C=(a(47),function(e){var t=e.min,a=e.max,n=e.onChange,i=Object(m.useState)(t),c=Object(M.a)(i,2),s=c[0],l=c[1],o=Object(m.useState)(a),r=Object(M.a)(o,2),u=r[0],g=r[1],d=Object(m.useRef)(null),p=Object(m.useRef)(null),x=Object(m.useRef)(null),b=Object(m.useCallback)(function(e){return Math.round((e-t)/(a-t)*100)},[t,a]);return Object(m.useEffect)(function(){if(p.current){var e=b(s),t=b(+p.current.value);x.current&&(x.current.style.left="".concat(e,"%"),x.current.style.width="".concat(t-e,"%"))}},[s,b]),Object(m.useEffect)(function(){if(d.current){var e=b(+d.current.value),t=b(u);x.current&&(x.current.style.width="".concat(t-e,"%"))}},[u,b]),Object(m.useEffect)(function(){n({min:s,max:u})},[s,u,n]),h.a.createElement("div",{className:"container"},h.a.createElement("input",{type:"range",min:t,max:a,value:s,ref:d,onChange:function(e){var t=Math.min(+e.target.value,u-1);l(t),e.target.value=t.toString()},className:j()("thumb thumb--zindex-3",{"thumb--zindex-5":s>a-100})}),h.a.createElement("input",{type:"range",min:t,max:a,value:u,ref:p,onChange:function(e){var t=Math.max(+e.target.value,s+1);g(t),e.target.value=t.toString()},className:"thumb thumb--zindex-4"}),h.a.createElement("div",{className:"slider"},h.a.createElement("div",{className:"slider__track"}),h.a.createElement("div",{ref:x,className:"slider__range"}),h.a.createElement("div",{className:"slider__left-value"},s),h.a.createElement("div",{className:"slider__right-value"},u)))}),E=a(8),O=a.n(E),S=a(7),_=(a(71),S.a.button(n||(n=Object(k.a)(["\n    background-color: #4196F7;\n    color: white;\n    font-size: 15px;\n    padding: 5px 20px;\n    border-radius: 20px;\n    margin: 10px 10px;\n    cursor: pointer;\n"])))),N=S.a.h1(i||(i=Object(k.a)(["\n    font-weight: bold; \n    font-family: Tahoma;\n    text-align: center;\n    font-size: 30px;\n    background-color: white"]))),T=S.a.p(c||(c=Object(k.a)(["\n    font-weight: bold; \n    font-family: Tahoma;\n    text-align: center;\n    font-size: 20px;\n    background-color: white"]))),w=S.a.p(s||(s=Object(k.a)(["\n    font-family: Tahoma;\n    text-align: center;\n    font-size: 15px;\n    background-color: white"]))),L=S.a.input(l||(l=Object(k.a)(["\n    background-color: white;\n    color: black;\n    font-size: 15px;\n    padding: 5px 10px;\n    border-radius: 0px;\n    margin: 10px 10px;\n    cursor: pointer;"]))),R=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(x.a)(this,Object(b.a)(t).call(this,e))).onSelect=a.onSelect.bind(Object(v.a)(Object(v.a)(a))),a.loadSongs=a.loadSongs.bind(Object(v.a)(Object(v.a)(a))),a.onDanceMinMaxChange=a.onDanceMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.onEnergyMinMaxChange=a.onEnergyMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.onModeMinMaxChange=a.onModeMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.onMajChange=a.onMajChange.bind(Object(v.a)(Object(v.a)(a))),a.onMinChange=a.onMinChange.bind(Object(v.a)(Object(v.a)(a))),a.onSpeechMinMaxChange=a.onSpeechMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.onAcoustMinMaxChange=a.onAcoustMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.onInstMinMaxChange=a.onInstMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.onLiveMinMaxChange=a.onLiveMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.onValMinMaxChange=a.onValMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.onTempMinMaxChange=a.onTempMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.filterTracks=a.filterTracks.bind(Object(v.a)(Object(v.a)(a))),a.createPlaylist=a.createPlaylist.bind(Object(v.a)(Object(v.a)(a))),a.onChangePlaylistName=a.onChangePlaylistName.bind(Object(v.a)(Object(v.a)(a))),a.state={username:a.props.username,token:"",playlist_name:"",playlists:[],selected_playlist:{},tracksWithFeatures:[],filtered_tracks:[],minValue:0,maxValue:100,dancemin:.8,dancemax:1,energymin:0,energymax:1,majorchecked:!0,minorchecked:!0,speechmin:0,speechmax:1,acoustmin:0,acoustmax:1,instmin:0,instmax:1,livemin:0,livemax:1,valmin:0,valmax:1,tempmin:0,tempmax:500},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.state.username),O.a.get("/get_token").then(function(t){console.log(t.data),e.setState({token:t.data})}).catch(function(e){console.log(e)}),O.a.get("/user_playlists").then(function(t){e.setState({playlists:t.data}),console.log("PLAYLISTS"),console.log(t.data),console.log(t.data[0].id),e.setState({selected_playlist:t.data[0].id}),console.log(e.state.selectedid)}).catch(function(e){console.log(e)})}},{key:"onSelect",value:function(e){console.log(this.state.playlists),this.setState({selected_playlist:e.target.value})}},{key:"loadSongs",value:function(e){var t=this;console.log("LOADING SONGS!"),O.a.get("/playlist_tracks_features/"+this.state.username+"/"+this.state.selected_playlist).then(function(e){t.setState({tracksWithFeatures:e.data}),console.log(e.data),console.log("TOTAL TRACKS:"+e.data.length)}).catch(function(e){console.log(e)})}},{key:"onDanceMinMaxChange",value:function(e){var t=e.min/100,a=e.max/100;this.setState({dancemin:t}),this.setState({dancemax:a})}},{key:"onEnergyMinMaxChange",value:function(e){var t=e.min/100,a=e.max/100;this.setState({energymin:t}),this.setState({energymax:a})}},{key:"onModeMinMaxChange",value:function(e){this.setState({maj:e.min}),this.setState({modemax:e.max})}},{key:"onMajChange",value:function(e){console.log("Major",this.state.majorchecked,"Minor:",this.state.minorchecked),this.setState({majorchecked:e.target.checked}),console.log("EVENT",e.target.checked),console.log("Major",this.state.majorchecked,"Minor:",this.state.minorchecked)}},{key:"onMinChange",value:function(e){this.setState({minorchecked:e.target.checked}),console.log(this.state.majorchecked,this.state.minorchecked)}},{key:"onSpeechMinMaxChange",value:function(e){var t=e.min/100,a=e.max/100;this.setState({speechmin:t}),this.setState({speechmax:a})}},{key:"onAcoustMinMaxChange",value:function(e){var t=e.min/100,a=e.max/100;this.setState({acoustmin:t}),this.setState({acoustmax:a})}},{key:"onInstMinMaxChange",value:function(e){var t=e.min/100,a=e.max/100;this.setState({instmin:t}),this.setState({instmax:a})}},{key:"onLiveMinMaxChange",value:function(e){var t=e.min/100,a=e.max/100;this.setState({livemin:t}),this.setState({livemax:a})}},{key:"onValMinMaxChange",value:function(e){var t=e.min/100,a=e.max/100;this.setState({valmin:t}),this.setState({valmax:a})}},{key:"onTempMinMaxChange",value:function(e){this.setState({tempmin:e.min}),this.setState({tempmax:e.max})}},{key:"filterTracks",value:function(e){var t,a,n=this;console.log("Major",this.state.majorchecked,"Minor:",this.state.minorchecked),console.log("FILTERING TRACKS!"),t=!0===this.state.minorchecked?0:1,a=!0===this.state.majorchecked?1:0;var i={tracklist:this.state.tracksWithFeatures,filters:{dancemin:this.state.dancemin,dancemax:this.state.dancemax,energymin:this.state.energymin,energymax:this.state.energymax,modemin:t,modemax:a,speechmin:this.state.speechmin,speechmax:this.state.speechmax,acoustmin:this.state.acoustmin,acoustmax:this.state.acoustmax,instmin:this.state.instmin,instmax:this.state.instmax,livemin:this.state.livemin,livemax:this.state.livemax,valmin:this.state.valmin,valmax:this.state.valmax,tempmin:this.state.tempmin,tempmax:this.state.tempmax}};O.a.post("/filter_tracks",i).then(function(e){console.log(e.data),n.setState({filtered_tracks:e.data})}).catch(function(e){console.log(e)})}},{key:"onChangePlaylistName",value:function(e){this.setState({playlist_name:e.target.value})}},{key:"createPlaylist",value:function(e){var t=this.state.filtered_tracks.map(function(e){return e.id});console.log(t);var a={playlist_name:this.state.playlist_name,track_ids:t};O.a.post("/create_playlist/"+this.state.username,a).then(function(e){console.log(e.data)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return h.a.createElement("div",{className:"wrapper"},h.a.createElement(N,null,"Welcome to the Spotify Playlist Maker!"),h.a.createElement(T,null,"Choose your base playlist: "),h.a.createElement("div",null,h.a.createElement("div",{className:"custom-select"},h.a.createElement("select",{value:this.state.selected_playlist,onChange:this.onSelect},this.state.playlists.map(function(e,t){return h.a.createElement("option",{key:t,value:e.id}," ",e.name," ")}))),h.a.createElement(_,{onClick:this.loadSongs},"Confirm Playlist"),h.a.createElement("p",null,"Danceability Range"),h.a.createElement(C,{id:"slider1",min:0,max:100,onChange:this.onDanceMinMaxChange}),h.a.createElement("p",null,"Energy Range"),h.a.createElement(C,{id:"slider2",min:0,max:100,onChange:this.onEnergyMinMaxChange}),h.a.createElement("p",null,"Mode Selection"),h.a.createElement("input",{type:"checkbox",id:"majorcheck",name:"major",value:"maj",checked:this.state.majorchecked,onChange:this.onMajChange}),"Major key",h.a.createElement("input",{type:"checkbox",id:"minorcheck",name:"minor",value:"min",checked:this.state.minorchecked,onChange:this.onMinChange}),"Minor key",h.a.createElement("p",null,"Speechiness Range"),h.a.createElement(C,{id:"slider4",min:0,max:100,onChange:this.onSpeechMinMaxChange}),h.a.createElement("p",null,"Acoustic Range"),h.a.createElement(C,{id:"slider5",min:0,max:100,onChange:this.onAcoustMinMaxChange}),h.a.createElement("p",null,"Instrumentalness Range"),h.a.createElement(C,{id:"slider6",min:0,max:100,onChange:this.onInstMinMaxChange}),h.a.createElement("p",null,"Liveness Range"),h.a.createElement(C,{id:"slider7",min:0,max:100,onChange:this.onLiveMinMaxChange}),h.a.createElement("p",null,"Valence Range"),h.a.createElement(C,{id:"slider8",min:0,max:100,onChange:this.onValMinMaxChange}),h.a.createElement("p",null,"Tempo Range"),h.a.createElement(C,{id:"slider9",min:0,max:500,onChange:this.onTempMinMaxChange}),h.a.createElement("br",null),h.a.createElement(_,{onClick:this.filterTracks},"Filter Playlist Tracks"),h.a.createElement("br",null),h.a.createElement(T,null,"Track List:"),0===this.state.filtered_tracks.length?h.a.createElement(w,null,"No tracks fit the filter criteria!"):this.state.filtered_tracks.map(function(e,t){return h.a.createElement(w,{key:t},e.name," ",e.artist)})),h.a.createElement("p",null,"Happy? Enter your playlist name:"),h.a.createElement("div",null,h.a.createElement(L,{type:"text",value:this.state.playlist_name,onChange:this.onChangePlaylistName}),h.a.createElement("br",null),h.a.createElement(_,{onClick:this.createPlaylist},"Create your playlist!")))}}]),t}(m.Component),z=S.a.button(o||(o=Object(k.a)(["\n  background-color: #4196F7;\n  color: white;\n  font-size: 15px;\n  padding: 10px 30px;\n  border-radius: 20px;\n  margin: 10px 10px;\n  cursor: pointer;\n"]))),P=S.a.input(r||(r=Object(k.a)(["\n  background-color: white;\n  color: black;\n  font-size: 15px;\n  padding: 5px 10px;\n  border-radius: 0px;\n  margin: 10px 10px;\n  cursor: pointer;"]))),I=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(x.a)(this,Object(b.a)(t).call(this,e))).authorize=a.authorize.bind(Object(v.a)(Object(v.a)(a))),a.onChangeUserName=a.onChangeUserName.bind(Object(v.a)(Object(v.a)(a))),a.state={username:"",token:"",cookieval:"",redir_link:""},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"onChangeUserName",value:function(e){this.setState({username:e.target.value})}},{key:"authorize",value:function(e){var t=this;console.log("LOGIN BUTTON CLICKED"),O.a.get("/authenticate/"+this.state.username).then(function(e){console.log(e.data),t.setState({token:e.data})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return h.a.createElement("div",{className:"App"},this.state.token?h.a.createElement(R,{username:this.state.username}):h.a.createElement("div",null,h.a.createElement(P,{type:"text",value:this.state.username,onChange:this.onChangeUserName}),h.a.createElement("br",null),h.a.createElement(z,{onClick:this.authorize},"Login to Spotify")))}}]),t}(m.Component),A=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,77)).then(function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),c(e),s(e)})},F=a(36),D=a(0);g.a.createRoot(document.getElementById("root")).render(h.a.createElement(F.a,null,h.a.createElement(D.c,null,h.a.createElement(D.a,{path:"*",element:h.a.createElement(I,null)})))),A()}},[[37,3,2]]]);
//# sourceMappingURL=main.98e70a3f.chunk.js.map