(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var n,i,s,l,c,o,r,m=a(0),h=a.n(m),u=a(56),d=a.n(u),g=(a(71),a(10)),p=a(20),x=a(57),f=a(58),b=a(105),y=a(59),k=a(106),v=a(5),M=a(60),C=a.n(M),E=(a(73),function(e){var t=e.min,a=e.max,n=e.onChange,i=Object(m.useState)(t),s=Object(g.a)(i,2),l=s[0],c=s[1],o=Object(m.useState)(a),r=Object(g.a)(o,2),u=r[0],d=r[1],p=Object(m.useRef)(null),x=Object(m.useRef)(null),f=Object(m.useRef)(null),b=Object(m.useCallback)(function(e){return Math.round((e-t)/(a-t)*100)},[t,a]);return Object(m.useEffect)(function(){if(x.current){var e=b(l),t=b(+x.current.value);f.current&&(f.current.style.left="".concat(e,"%"),f.current.style.width="".concat(t-e,"%"))}},[l,b]),Object(m.useEffect)(function(){if(p.current){var e=b(+p.current.value),t=b(u);f.current&&(f.current.style.width="".concat(t-e,"%"))}},[u,b]),Object(m.useEffect)(function(){n({min:l,max:u})},[l,u,n]),h.a.createElement("div",{className:"container"},h.a.createElement("input",{type:"range",min:t,max:a,value:l,ref:p,onChange:function(e){var t=Math.min(+e.target.value,u-1);c(t),e.target.value=t.toString()},className:C()("thumb thumb--zindex-3",{"thumb--zindex-5":l>a-100})}),h.a.createElement("input",{type:"range",min:t,max:a,value:u,ref:x,onChange:function(e){var t=Math.max(+e.target.value,l+1);d(t),e.target.value=t.toString()},className:"thumb thumb--zindex-4"}),h.a.createElement("div",{className:"slider"},h.a.createElement("div",{className:"slider__track"}),h.a.createElement("div",{ref:f,className:"slider__range"}),h.a.createElement("div",{className:"slider__left-value"},l),h.a.createElement("div",{className:"slider__right-value"},u)))}),j=a(34),S=a.n(j),O=a(27),_=(a(97),a(132)),w=a(129),T=a(130),N=O.a.button(n||(n=Object(p.a)(["\n    background-color: #4196F7;\n    color: white;\n    font-size: 15px;\n    padding: 5px 20px;\n    border-radius: 20px;\n    margin: 10px 10px;\n    cursor: pointer;\n"]))),L=O.a.h1(i||(i=Object(p.a)(["\n    font-weight: bold; \n    font-family: Tahoma;\n    text-align: center;\n    font-size: 30px;\n    background-color: e7e6e7"]))),P=O.a.p(s||(s=Object(p.a)(["\n    font-weight: bold; \n    font-family: Tahoma;\n    text-align: center;\n    font-size: 20px;\n    background-color: e7e6e7"]))),I=O.a.p(l||(l=Object(p.a)(["\n    font-family: Tahoma;\n    text-align: center;\n    font-size: 15px;\n    background-color: e7e6e7"]))),R=O.a.input(c||(c=Object(p.a)(["\n    background-color: e7e6e7;\n    color: black;\n    font-size: 15px;\n    padding: 5px 10px;\n    border-radius: 0px;\n    margin: 10px 10px;\n    cursor: pointer;"]))),A=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(b.a)(this,Object(y.a)(t).call(this,e))).onSelect=a.onSelect.bind(Object(v.a)(Object(v.a)(a))),a.loadSongs=a.loadSongs.bind(Object(v.a)(Object(v.a)(a))),a.onDanceMinMaxChange=a.onDanceMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.onEnergyMinMaxChange=a.onEnergyMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.onModeMinMaxChange=a.onModeMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.onMajChange=a.onMajChange.bind(Object(v.a)(Object(v.a)(a))),a.onMinChange=a.onMinChange.bind(Object(v.a)(Object(v.a)(a))),a.onSpeechMinMaxChange=a.onSpeechMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.onAcoustMinMaxChange=a.onAcoustMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.onInstMinMaxChange=a.onInstMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.onLiveMinMaxChange=a.onLiveMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.onValMinMaxChange=a.onValMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.onTempMinMaxChange=a.onTempMinMaxChange.bind(Object(v.a)(Object(v.a)(a))),a.filterTracks=a.filterTracks.bind(Object(v.a)(Object(v.a)(a))),a.onUsernameChange=a.onUsernameChange.bind(Object(v.a)(Object(v.a)(a))),a.createPlaylist=a.createPlaylist.bind(Object(v.a)(Object(v.a)(a))),a.onChangePlaylistName=a.onChangePlaylistName.bind(Object(v.a)(Object(v.a)(a))),a.state={username:"",token:a.props.token,playlist_name:"",playlists:[],selected_playlist:{},loaded:"",playlistCreated:"",playlistLink:"",tracksWithFeatures:[],filtered_tracks:[],minValue:0,maxValue:100,dancemin:.8,dancemax:1,energymin:0,energymax:1,majorchecked:!0,minorchecked:!0,speechmin:0,speechmax:1,acoustmin:0,acoustmax:1,instmin:0,instmax:1,livemin:0,livemax:1,valmin:0,valmax:1,tempmin:0,tempmax:500},a}return Object(k.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("PROPS:",this.props),console.log("USERNAME:",this.state.username),console.log("TOKEN:",this.state.token),S.a.get("/user_playlists/"+this.state.token).then(function(t){e.setState({playlists:t.data}),console.log("PLAYLISTS"),console.log(t.data),console.log(t.data[0].id),e.setState({selected_playlist:t.data[0].id}),console.log(e.state.selectedid)}).catch(function(e){console.log(e)})}},{key:"onSelect",value:function(e){console.log(this.state.playlists),this.setState({selected_playlist:e.target.value})}},{key:"loadSongs",value:function(e){var t=this;console.log("LOADING SONGS!"),this.setState({loaded:"Loading tracks, please wait..."}),S.a.get("/playlist_tracks_features/"+this.state.selected_playlist+"/"+this.state.token).then(function(e){t.setState({tracksWithFeatures:e.data}),console.log(e.data),console.log("TOTAL TRACKS:"+e.data.length),console.log(t.state.loadingTracks),t.setState({loaded:"Tracks loaded! Please choose filtering options."})}).catch(function(e){console.log(e)})}},{key:"onDanceMinMaxChange",value:function(e){var t=e.min/100,a=e.max/100;this.setState({dancemin:t}),this.setState({dancemax:a})}},{key:"onEnergyMinMaxChange",value:function(e){var t=e.min/100,a=e.max/100;this.setState({energymin:t}),this.setState({energymax:a})}},{key:"onModeMinMaxChange",value:function(e){this.setState({maj:e.min}),this.setState({modemax:e.max})}},{key:"onMajChange",value:function(e){console.log("Major",this.state.majorchecked,"Minor:",this.state.minorchecked),this.setState({majorchecked:e.target.checked}),console.log("EVENT",e.target.checked),console.log("Major",this.state.majorchecked,"Minor:",this.state.minorchecked)}},{key:"onMinChange",value:function(e){this.setState({minorchecked:e.target.checked}),console.log(this.state.majorchecked,this.state.minorchecked)}},{key:"onSpeechMinMaxChange",value:function(e){var t=e.min/100,a=e.max/100;this.setState({speechmin:t}),this.setState({speechmax:a})}},{key:"onAcoustMinMaxChange",value:function(e){var t=e.min/100,a=e.max/100;this.setState({acoustmin:t}),this.setState({acoustmax:a})}},{key:"onInstMinMaxChange",value:function(e){var t=e.min/100,a=e.max/100;this.setState({instmin:t}),this.setState({instmax:a})}},{key:"onLiveMinMaxChange",value:function(e){var t=e.min/100,a=e.max/100;this.setState({livemin:t}),this.setState({livemax:a})}},{key:"onValMinMaxChange",value:function(e){var t=e.min/100,a=e.max/100;this.setState({valmin:t}),this.setState({valmax:a})}},{key:"onTempMinMaxChange",value:function(e){this.setState({tempmin:e.min}),this.setState({tempmax:e.max})}},{key:"filterTracks",value:function(e){var t,a,n=this;console.log("Major",this.state.majorchecked,"Minor:",this.state.minorchecked),console.log("FILTERING TRACKS!"),t=!0===this.state.minorchecked?0:1,a=!0===this.state.majorchecked?1:0;var i={tracklist:this.state.tracksWithFeatures,filters:{dancemin:this.state.dancemin,dancemax:this.state.dancemax,energymin:this.state.energymin,energymax:this.state.energymax,modemin:t,modemax:a,speechmin:this.state.speechmin,speechmax:this.state.speechmax,acoustmin:this.state.acoustmin,acoustmax:this.state.acoustmax,instmin:this.state.instmin,instmax:this.state.instmax,livemin:this.state.livemin,livemax:this.state.livemax,valmin:this.state.valmin,valmax:this.state.valmax,tempmin:this.state.tempmin,tempmax:this.state.tempmax}};S.a.post("/filter_tracks",i).then(function(e){console.log(e.data),n.setState({filtered_tracks:e.data})}).catch(function(e){console.log(e)})}},{key:"onUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePlaylistName",value:function(e){this.setState({playlist_name:e.target.value})}},{key:"createPlaylist",value:function(e){var t=this,a=this.state.filtered_tracks.map(function(e){return e.id});console.log(a);var n={playlist_name:this.state.playlist_name,track_ids:a};this.setState({playlistCreated:"Creating your playlist..."}),S.a.post("/create_playlist/"+this.state.username+"/"+this.state.token,n).then(function(e){console.log(e.data),t.setState({playlistLink:e.data.link}),t.setState({playlistCreated:"Playlist created! Check it out on Spotify :)"})}).catch(function(e){console.log(e),t.setState({playlistCreated:"Playlist creation failed...check that your username is correct!"})})}},{key:"render",value:function(){return h.a.createElement("div",{className:"wrapper"},h.a.createElement(L,null,"Welcome to the Spotify Playlist Maker!"),h.a.createElement(P,null,"Choose your base playlist: "),h.a.createElement("div",null,h.a.createElement("div",{className:"custom-select"},h.a.createElement("select",{value:this.state.selected_playlist,onChange:this.onSelect},this.state.playlists.map(function(e,t){return h.a.createElement("option",{key:t,value:e.id}," ",e.name," ")}))),h.a.createElement(N,{onClick:this.loadSongs},"Confirm Playlist"),h.a.createElement(I,null,this.state.loaded),h.a.createElement(I,null,"Danceability Range"),h.a.createElement(E,{id:"slider1",min:0,max:100,onChange:this.onDanceMinMaxChange}),h.a.createElement(I,null,"Energy Range"),h.a.createElement(E,{id:"slider2",min:0,max:100,onChange:this.onEnergyMinMaxChange}),h.a.createElement(I,null,"Mode Selection"),h.a.createElement("input",{type:"checkbox",id:"majorcheck",name:"major",value:"maj",checked:this.state.majorchecked,onChange:this.onMajChange}),"Major key",h.a.createElement("input",{type:"checkbox",id:"minorcheck",name:"minor",value:"min",checked:this.state.minorchecked,onChange:this.onMinChange}),"Minor key",h.a.createElement(I,null,"Speechiness Range"),h.a.createElement(E,{id:"slider4",min:0,max:100,onChange:this.onSpeechMinMaxChange}),h.a.createElement(I,null,"Acoustic Range"),h.a.createElement(E,{id:"slider5",min:0,max:100,onChange:this.onAcoustMinMaxChange}),h.a.createElement(I,null,"Instrumentalness Range"),h.a.createElement(E,{id:"slider6",min:0,max:100,onChange:this.onInstMinMaxChange}),h.a.createElement(I,null,"Liveness Range"),h.a.createElement(E,{id:"slider7",min:0,max:100,onChange:this.onLiveMinMaxChange}),h.a.createElement(I,null,"Valence Range"),h.a.createElement(E,{id:"slider8",min:0,max:100,onChange:this.onValMinMaxChange}),h.a.createElement(I,null,"Tempo Range"),h.a.createElement(E,{id:"slider9",min:0,max:500,onChange:this.onTempMinMaxChange}),h.a.createElement("br",null),h.a.createElement(N,{onClick:this.filterTracks},"Filter Playlist Tracks"),h.a.createElement("br",null),h.a.createElement(P,null,"Track List:"),0===this.state.filtered_tracks.length?h.a.createElement(I,null,"No tracks fit the filter criteria!"):h.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},h.a.createElement(_.a,{sx:{width:"100%",maxWidth:360,bgcolor:"#ffffff",alignItems:"center",overflow:"auto",maxHeight:300,"& ul":{padding:0}}},this.state.filtered_tracks.map(function(e,t){return h.a.createElement(w.a,{key:"item-".concat(t),sx:{alignItems:"center"}},h.a.createElement(T.a,{primary:"".concat(e.name," - ").concat(e.artist)}))})))),h.a.createElement(I,null,"Happy? Enter your Spotify username and desired playlist name:"),h.a.createElement("div",null,h.a.createElement(I,null,"Username:"),h.a.createElement(R,{type:"text",value:this.state.username,onChange:this.onUsernameChange}),h.a.createElement(I,null,"Playlist Name:"),h.a.createElement(R,{type:"text",value:this.state.playlist_name,onChange:this.onChangePlaylistName}),h.a.createElement("br",null),h.a.createElement(N,{onClick:this.createPlaylist},"Create your playlist!"),h.a.createElement(I,null,this.state.playlistCreated),this.state.playlistLink?h.a.createElement("a",{href:this.state.playlistLink},"Your new playlist"):h.a.createElement("p",null)))}}]),t}(m.Component),z="https://accounts.spotify.com/authorize?client_id=720ccd49410842c7bddb89cbfc7686a4&redirect_uri=https://spotipy-appsadie694.herokuapp.com/&scope=user-library-read playlist-modify-public playlist-read-private&response_type=token&state=123",F=O.a.button(o||(o=Object(p.a)(["\n  background-color: #4196F7;\n  color: white;\n  font-size: 15px;\n  padding: 10px 30px;\n  border-radius: 20px;\n  margin: 10px 10px;\n  cursor: pointer;\n"])));O.a.input(r||(r=Object(p.a)(["\n  background-color: white;\n  color: black;\n  font-size: 15px;\n  padding: 5px 10px;\n  border-radius: 0px;\n  margin: 10px 10px;\n  cursor: pointer;"])));var D=function(){var e=Object(m.useState)(""),t=Object(g.a)(e,2),a=t[0],n=t[1];return Object(m.useEffect)(function(){var e=window.location.hash,t=window.localStorage.getItem("token");!t&&e&&(t=e.substring(1).split("&").find(function(e){return e.startsWith("access_token")}).split("=")[1],window.location.hash="",window.localStorage.setItem("token",t)),n(t)},[]),h.a.createElement("div",{className:"App"},h.a.createElement("header",{className:"App-header"},a?h.a.createElement("div",null,h.a.createElement(A,{token:a}),h.a.createElement(F,{onClick:function(){n(""),window.localStorage.removeItem("token")}},"Logout")):h.a.createElement("div",null,h.a.createElement("a",{href:"".concat(z)},"Login to Spotify"))))},V=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,128)).then(function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,l=t.getTTFB;a(e),n(e),i(e),s(e),l(e)})},U=a(104),W=a(1);d.a.createRoot(document.getElementById("root")).render(h.a.createElement(U.a,null,h.a.createElement(W.c,null,h.a.createElement(W.a,{path:"*",element:h.a.createElement(D,null)})))),V()},63:function(e,t,a){e.exports=a(110)},71:function(e,t,a){},73:function(e,t,a){},97:function(e,t,a){}},[[63,3,2]]]);
//# sourceMappingURL=main.7704bf88.chunk.js.map